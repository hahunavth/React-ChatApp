(this.webpackJsonpsrc=this.webpackJsonpsrc||[]).push([[0],{179:function(e,t,n){},180:function(e,t,n){},262:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(27),o=n.n(r),i=(n(179),n(26)),s=(n(180),n(89)),l=n.n(s),d=n(109),u=n(272),b=n(267),j=n(268),p=n(71),h=n(93);n(263),n(181),n(264);h.a.initializeApp({apiKey:"AIzaSyBMckRZQtEsbti4To5Nrf-ZoGOpA2MROEM",authDomain:"chat-app-67a8b.firebaseapp.com",databaseURL:"https://chat-app-67a8b-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"chat-app-67a8b",storageBucket:"chat-app-67a8b.appspot.com",messagingSenderId:"550759354703",appId:"1:550759354703:web:e08640596dccf3b917f53a",measurementId:"G-PL5J35GXWF"}),h.a.analytics();var m=h.a.auth(),f=h.a.firestore();window.location.hostname;var x=h.a,O=n(92),g=n(51),v=function(e,t){var n=f.collection(e);for(var c in t)"undefined"===typeof t[c]&&(t[c]="");n.add(Object(g.a)(Object(g.a)({},t),{},{createdAt:x.firestore.FieldValue.serverTimestamp()}))},y=function(e){for(var t=e.split(" ").filter((function(e){return e})),n=t.length,c=[],a=[],r=[],o=0;o<n;o++)c[o]=!1;return function e(o){for(var i=0;i<n;i++)c[i]||(c[i]=!0,a[o]=t[i],o===n-1&&r.push(a.join(" ")),e(o+1),c[i]=!1)}(0),r.reduce((function(e,t){var n=function(e){var t=[],n="";return e.split("").forEach((function(e){n+=e,t.push(n)})),t}(t);return[].concat(Object(O.a)(e),Object(O.a)(n))}),[])},k=n(4),C=u.a.Title,w=new x.auth.FacebookAuthProvider,N=new x.auth.GoogleAuthProvider;function R(){var e=function(){var e=Object(d.a)(l.a.mark((function e(t){var n,c,a,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.signInWithPopup(t);case 2:n=e.sent,c=n.additionalUserInfo,a=n.user,(null===c||void 0===c?void 0:c.isNewUser)&&v("users",{displayName:a.displayName,email:a.email,photoURL:a.photoURL,uid:a.uid,providerId:c.providerId,keywords:y(null===(r=a.displayName)||void 0===r?void 0:r.toLowerCase())});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)("div",{children:Object(k.jsx)(b.a,{justify:"center",style:{height:800},children:Object(k.jsxs)(j.a,{span:8,children:[Object(k.jsx)(C,{style:{textAlign:"center"},level:3,children:"Fun Chat"}),Object(k.jsx)(p.a,{style:{width:"100%",marginBottom:5},onClick:function(){return e(N)},children:"\u0110\u0103ng nh\u1eadp b\u1eb1ng Google"}),Object(k.jsx)(p.a,{style:{width:"100%"},onClick:function(){return e(w)},children:"\u0110\u0103ng nh\u1eadp b\u1eb1ng Facebook"})]})})})}var I=n(107),U=n(30),L=n(25),S=n(277),V=n(269),A=a.a.createContext();function M(e){var t=e.children,n=Object(c.useState)({}),r=Object(i.a)(n,2),o=r[0],s=r[1],l=Object(U.g)(),d=Object(c.useState)(!0),u=Object(i.a)(d,2),b=u[0],j=u[1];return a.a.useEffect((function(){var e=m.onAuthStateChanged((function(e){if(e){var t=e.displayName,n=e.email,c=e.uid,a=e.photoURL;return s({displayName:t,email:n,uid:c,photoURL:a}),j(!1),void l.push("/react_chat-app")}s({}),j(!1),l.push("/react_chat-app/login")}));return function(){e()}}),[l]),Object(k.jsx)(A.Provider,{value:{user:o},children:b?Object(k.jsx)(V.a,{style:{position:"fixed",inset:0}}):t})}var T=function(e,t){var n=Object(c.useState)([]),r=Object(i.a)(n,2),o=r[0],s=r[1];return a.a.useEffect((function(){var n=f.collection(e).orderBy("createdAt");if(t){if(!t.compareValue||!t.compareValue.length)return void s([]);n=n.where(t.fieldName,t.operator,t.compareValue)}return n.onSnapshot((function(e){var t=e.docs.map((function(e){return Object(g.a)(Object(g.a)({},e.data()),{},{id:e.id})}));s(t)}))}),[e,t]),o},F=a.a.createContext();function _(e){var t=e.children,n=Object(c.useState)(!1),r=Object(i.a)(n,2),o=r[0],s=r[1],l=Object(c.useState)(!1),d=Object(i.a)(l,2),u=d[0],b=d[1],j=Object(c.useState)(!1),p=Object(i.a)(j,2),h=p[0],m=p[1],f=Object(c.useState)(""),x=Object(i.a)(f,2),O=x[0],g=x[1],v=a.a.useContext(A).user.uid,y=a.a.useMemo((function(){return{fieldName:"members",operator:"array-contains",compareValue:v}}),[v]),C=T("rooms",y),w=a.a.useMemo((function(){return C.find((function(e){return e.id===O}))||{}}),[C,O]);console.log(w);var N=a.a.useMemo((function(){return{fieldName:"uid",operator:"in",compareValue:w.members}}),[w.members]),R=T("users",N);return Object(k.jsx)(F.Provider,{value:{rooms:C,members:R,selectedRoom:w,isAddRoomVisible:o,isMemberListVisible:h,setIsMemberListVisible:m,setIsAddRoomVisible:s,selectedRoomId:O,setSelectedRoomId:g,isInviteMemberVisible:u,setIsInviteMemberVisible:b,clearState:function(){g(""),s(!1),b(!1)}},children:t})}var z,P=n(22),E=P.b.div(z||(z=Object(L.a)(["\n  display: flex;\n  justify-content: space-between;\n  flex-direction: column;\n  align-items: center;\n  padding: 12px 16px;\n  border: 1px solid ",";\n  background: ",";\n  margin: 20px 20px;\n  border-radius: 25px;\n  padding-top: 20px;\n  padding-bottom: 20px;\n  .avatar {\n    border: 1px solid ",";\n    width: 50px;\n    height: 50px;\n    margin-bottom: 10px;\n  }\n  .username {\n    color: ",";\n    font-weight: bold;\n    font-size: 20px;\n    margin-left: 5px;\n    margin-bottom: 10px;\n  }\n"])),(function(e){return e.theme.colors.border}),(function(e){return e.theme.colors.backgroundPrimary}),(function(e){return e.theme.colors.border}),(function(e){return e.theme.colors.textPrimary}));function B(){var e,t=a.a.useContext(A).user,n=t.displayName,c=t.photoURL,r=a.a.useContext(F).clearState;return Object(k.jsxs)(E,{children:[Object(k.jsx)(S.a,{src:c,size:"large",className:"avatar",children:c?"":null===n||void 0===n||null===(e=n.charAt(0))||void 0===e?void 0:e.toUpperCase()}),Object(k.jsx)(u.a.Text,{className:"username",children:n}),Object(k.jsx)(p.a,{danger:!0,ghost:!0,shape:"round",size:"small",onClick:function(){r(),m.signOut()},children:"\u0110\u0103ng xu\u1ea5t"})]})}var D,G,J,H=n(274),W=n(279),K=H.a.Panel,X=Object(P.b)(K)(D||(D=Object(L.a)(["\n  padding: 0;\n  margin: 0;\n  &&& {\n    .ant-collapse-header,\n    p {\n      color: ",";\n    }\n\n    .ant-collapse-content-box {\n      padding: 0 15px;\n      margin: 0;\n    }\n\n    .add-room {\n      color: black;\n      padding: 0;\n    }\n  }\n"])),(function(e){return e.theme.colors.background})),Z=Object(P.b)(u.a.Link)(G||(G=Object(L.a)(["\n  display: block;\n  margin-bottom: 5px;\n"])));function Q(){var e=a.a.useContext(F),t=e.rooms,n=e.setIsAddRoomVisible,c=e.selectedRoomId,r=e.setSelectedRoomId,o=function(e,t){return console.log(e.id),console.log(t),e.id===t?"#f3f6fb":"#ffffff"},i="Danh s\xe1ch c\xe1c ph\xf2ng "+t.length;return Object(k.jsx)(H.a,{ghost:!0,defaultActiveKey:["1"],children:Object(k.jsx)(X,{header:i,children:Object(k.jsxs)("div",{style:{padding:"0px"},children:[t.map((function(e){return Object(k.jsx)(Z,{style:{padding:"10px",paddingLeft:"50px",paddingRight:"50px",borderRadius:"10px",background:o(e,c)},copyable:!1,onClick:function(){return r(e.id)},children:e.name},e.id)})),Object(k.jsx)(p.a,{type:"text",block:!0,icon:Object(k.jsx)(W.a,{}),className:"add-room",onClick:function(){n(!0)},children:"Th\xeam ph\xf2ng"})]})},"1")})}var q=P.b.div(J||(J=Object(L.a)(["\n  height: 100vh;\n  background-color: ",";\n"])),(function(e){return e.theme.colors.background}));function Y(){return Object(k.jsx)(q,{children:Object(k.jsxs)(b.a,{children:[Object(k.jsx)(j.a,{span:24,children:Object(k.jsx)(B,{})}),Object(k.jsx)(j.a,{span:24,children:Object(k.jsx)(Q,{})})]})})}var $,ee,te=n(271),ne=n(278),ce=n(270),ae=P.b.div($||($=Object(L.a)(["\n  margin-bottom: 30px;\n  padding-left: 20px;\n\n  .author {\n    margin-left: 5px;\n    font-weight: bold;\n  }\n\n  .date {\n    margin-left: 10px;\n    font-size: 11px;\n    color: #a7a7a7;\n  }\n\n  .content {\n    margin-left: 20px;\n    background: #ffffff;\n    color: #5f768c;\n    padding: 8px;\n    border-radius: 10px;\n    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2), 0 3px 4px 0 rgba(0, 0, 0, 0.19);\n    max-width: 100px;\n  }\n"]))),re=P.b.div(ee||(ee=Object(L.a)(["\n  margin-bottom: 30px;\n  padding-right: 20px;\n  width: 100%;\n  display: flex;\n  justify-content: flex-end;\n  align-items: space-between;\n\n  .messages-container {\n    display: flex;\n    flex-direction: row;\n    justify-content: flex-end;\n\n    align-items: space-between;\n  }\n\n  .author {\n    margin-right: 5px;\n    font-weight: bold;\n  }\n\n  .date {\n    margin-right: 10px;\n    font-size: 11px;\n    color: #a7a7a7;\n    padding-top: 4px;\n  }\n\n  .content {\n    float: right;\n    margin-right: 20px;\n    color: #a6aab2;\n    background: #1a233b;\n    padding: 8px;\n    border-radius: 10px;\n    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2), 0 3px 4px 0 rgba(0, 0, 0, 0.19);\n    max-width: 500px;\n  }\n"])));function oe(e){var t="";return e&&(t=(t=Object(ce.a)(new Date(1e3*e),new Date)).charAt(0).toUpperCase()+t.slice(1)),t}function ie(e){var t,n,c=e.uid,r=e.text,o=e.displayName,i=e.createdAt,s=e.photoURL;return a.a.useContext(A).user.uid===c?Object(k.jsx)(re,{children:Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"messages-container",children:[Object(k.jsx)(u.a.Text,{className:"date",children:oe(null===i||void 0===i?void 0:i.seconds)}),Object(k.jsx)(u.a.Text,{className:"author",children:o}),Object(k.jsx)(S.a,{size:"small",src:s,children:s?"":null===o||void 0===o||null===(t=o.charAt(0))||void 0===t?void 0:t.toUpperCase()})]}),Object(k.jsx)(u.a.Text,{className:"content",children:Object(k.jsx)("span",{children:r})})]})}):Object(k.jsxs)(ae,{children:[Object(k.jsxs)("div",{children:[Object(k.jsx)(S.a,{size:"small",src:s,children:s?"":null===o||void 0===o||null===(n=o.charAt(0))||void 0===n?void 0:n.toUpperCase()}),Object(k.jsx)(u.a.Text,{className:"author",children:o}),Object(k.jsx)(u.a.Text,{className:"date",children:oe(null===i||void 0===i?void 0:i.seconds)})]}),Object(k.jsx)("div",{children:Object(k.jsx)(u.a.Text,{className:"content",children:r})})]})}var se,le,de,ue,be,je,pe,he=n(59),me=n(281),fe=n(280),xe=n(275),Oe=Object(P.b)(te.a)(se||(se=Object(L.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 2px 2px 2px 0;\n  border: 1px solid #cccccc;\n  border-radius: 2px;\n\n  .ant-form-item {\n    flex: 1;\n    margin-bottom: 0;\n  }\n"])));function ge(){var e=Object(c.useContext)(F).selectedRoom,t=Object(c.useContext)(A).user,n=t.uid,a=t.photoURL,r=t.displayName,o=Object(c.useState)(""),s=Object(i.a)(o,2),l=s[0],d=s[1],u=te.a.useForm(),b=Object(i.a)(u,1)[0],j=Object(c.useRef)(null),h=function(){l&&(v("messages",{text:l,uid:n,photoURL:a,roomId:e.id,displayName:r}),b.resetFields(["message"]),d("")),(null===j||void 0===j?void 0:j.current)&&setTimeout((function(){j.current.focus()}))};return Object(k.jsxs)(Oe,{form:b,children:[Object(k.jsx)(te.a.Item,{name:"message",children:Object(k.jsx)(xe.a,{ref:j,onChange:function(e){d(e.target.value)},onPressEnter:h,placeholder:"Nh\u1eadp tin nh\u1eafn...",bordered:!1,autoComplete:"off"})}),Object(k.jsx)(p.a,{type:"primary",icon:Object(k.jsx)(fe.a,{}),shape:"circle",onClick:h})]})}P.b.div(le||(le=Object(L.a)(["\n  display: flex;\n  justify-content: space-between;\n  height: 57px;\n  padding: 0 16px;\n  align-items: center;\n\n  .header {\n    &__info {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n    }\n\n    &__title {\n      margin: 0;\n      font-weight: bold;\n    }\n\n    &__description {\n      font-size: 12px;\n    }\n  }\n"]))),P.b.div(de||(de=Object(L.a)(["\n  display: flex;\n  align-items: center;\n"])));var ve=P.b.div(ue||(ue=Object(L.a)(["\n  height: 96vh;\n  margin-top: 2vh;\n  background: ",";\n"])),(function(e){return e.theme.colors.background})),ye=P.b.div(be||(be=Object(L.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 11px;\n  background: ",";\n  border-radius: 25px;\n  justify-content: flex-end;\n"])),(function(e){return e.theme.colors.backgroundPrimary})),ke=(Object(P.b)(te.a)(je||(je=Object(L.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 2px 2px 2px 0;\n  border: 1px solid ",";\n  border-radius: 2px;\n\n  .ant-form-item {\n    flex: 1;\n    margin-bottom: 0;\n  }\n"])),(function(e){return e.theme.colors.border})),P.b.div(pe||(pe=Object(L.a)(["\n  max-height: 100%;\n  overflow-y: auto;\n"]))));function Ce(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1],o=Object(c.useContext)(F),s=o.selectedRoom,l=(o.members,Object(c.useContext)(A).user),d=(l.uid,l.photoURL,l.displayName,Object(c.useState)("")),u=Object(i.a)(d,2),b=(u[0],u[1],te.a.useForm()),j=(Object(i.a)(b,1)[0],Object(c.useRef)(null),Object(c.useRef)(null)),p=Object(c.useRef)(null),h=a.a.useMemo((function(){return{fieldName:"roomId",operator:"==",compareValue:s.id}}),[s.id]),m=T("messages",h);return Object(c.useEffect)((function(){r(!0)}),[s.id]),Object(c.useEffect)((function(){(null===j||void 0===j?void 0:j.current)&&(j.current.scrollTop=j.current.scrollHeight+50),r(!1)}),[m]),Object(c.useEffect)((function(){(null===p||void 0===p?void 0:p.current)&&p.current.scrollIntoView({block:"end"})})),Object(k.jsx)(ve,{children:s.id?Object(k.jsx)(k.Fragment,{children:n?Object(k.jsx)(V.a,{size:"large",tip:"Loading...",style:{position:"fixed",bottom:"50%",left:"50%"},indicator:Object(k.jsx)(he.a,{style:{fontSize:40},spin:!0})}):Object(k.jsxs)(ye,{children:[Object(k.jsxs)(ke,{ref:j,children:[m.length?m.map((function(e){return Object(k.jsx)(ie,{uid:e.uid,text:e.text,photoURL:e.photoURL,displayName:e.displayName,createdAt:e.createdAt},e.id)})):Object(k.jsxs)("div",{style:{position:"absolute",bottom:"50%",left:"50%",transform:"translate(-50%, 50%)",display:"flex",justifyContent:"center",flexDirection:"column"},children:[Object(k.jsx)(me.a,{style:{fontSize:"90px",color:"#cccccc"}}),Object(k.jsx)("span",{style:{fontSize:"28px",color:"#99999999",fontWeight:"500"},children:"Chat now!"})]}),Object(k.jsx)("div",{ref:p,id:"el"})]}),Object(k.jsx)(ge,{})]})}):Object(k.jsx)(ne.a,{message:"H\xe3y ch\u1ecdn ph\xf2ng",type:"info",showIcon:!0,style:{margin:5},closable:!0})})}var we,Ne,Re,Ie,Ue=n(282),Le=n(283),Se=n(284),Ve=n(285),Ae=n(68);function Me(){var e,t=Object(c.useContext)(F),n=t.selectedRoom,a=t.members,r=t.setIsInviteMemberVisible,o=t.setIsMemberListVisible,i=Object(c.useContext)(A).user,s=function(){var e,t,c={fieldName:"roomId",operator:"==",compareValue:n.id};e="rooms",t=n.id,f.collection(e).doc(t).delete().then((function(){console.log("deleted")}),(function(e){console.log(e)})),function(e,t){f.collection(e).where(t.fieldName,t.operator,t.compareValue).get().then((function(e){e.forEach((function(e){e.ref.delete()}))}))}("messages",c)};return Object(k.jsx)(_e,{children:n.id?Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(Te,{children:[Object(k.jsxs)(ze,{children:[Object(k.jsx)(S.a.Group,{size:"large",maxCount:2,className:"avatar",children:a.map((function(e){var t,n;return Object(k.jsx)(Ae.a,{title:e.displayName,children:Object(k.jsx)(S.a,{src:e.photoURL,children:e.photoURL?"":null===(t=e.displayName)||void 0===t||null===(n=t.charAt(0))||void 0===n?void 0:n.toUpperCase()})},e.id)}))}),Object(k.jsxs)("div",{className:"header__info",children:[Object(k.jsx)("p",{className:"header__title",children:n.name}),Object(k.jsx)("span",{className:"header__description",children:n.description})]})]}),Object(k.jsx)(Fe,{children:Object(k.jsx)(p.a,{icon:Object(k.jsx)(Ue.a,{}),type:"text",onClick:function(){return r(!0)},block:!0,children:"M\u1eddi"})}),Object(k.jsx)(Fe,{children:Object(k.jsx)(p.a,{icon:Object(k.jsx)(Le.a,{}),onClick:function(){o(!0)},type:"text",block:!0,children:"Thanh vien trong nhom"})}),Object(k.jsx)(Fe,{children:Object(k.jsx)(p.a,{icon:Object(k.jsx)(Se.a,{}),type:"text",block:!0,children:"Thay doi anh nhom"})}),Object(k.jsx)(Fe,{children:Object(k.jsx)(p.a,{icon:Object(k.jsx)(Ve.a,{}),onClick:function(){if((null===n||void 0===n?void 0:n.members.length)>=2){var e=JSON.parse(JSON.stringify(n));e.members.shift(),console.log(n),console.log(e),t="rooms",c=n,a=e,f.collection(t).doc(c.id).update(a).then((function(){console.log("updated")}),(function(e){console.log(e)}))}else s();var t,c,a},type:"text",block:!0,children:"Roi nhom"})}),(null===(e=a.slice(-1)[0])||void 0===e?void 0:e.uid)===i.uid?Object(k.jsx)(Fe,{children:Object(k.jsx)(p.a,{onClick:s,icon:Object(k.jsx)(Ve.a,{}),type:"text",block:!0,children:"Xoa nhom"})}):null]})}):Object(k.jsx)(ne.a,{message:"H\xe3y ch\u1ecdn ph\xf2ng",type:"info",showIcon:!0,style:{margin:5},closable:!0})})}var Te=P.b.div(we||(we=Object(L.a)(["\n  text-align: center;\n\n  .avatar {\n    margin-top: 10%;\n  }\n  .header__info {\n    margin-bottom: 30px;\n  }\n  .header__title {\n    font-size: 24px;\n    font-weight: 600;\n  }\n  .header__description {\n    font-size: 15px;\n    font-weight: 500;\n    word-wrap: break-word;\n    margin: 5px;\n  }\n"]))),Fe=P.b.div(Ne||(Ne=Object(L.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 10px;\n"]))),_e=P.b.div(Re||(Re=Object(L.a)(["\n  height: 100vh;\n  background-color: ",";\n"])),(function(e){return e.theme.colors.background})),ze=P.b.div(Ie||(Ie=Object(L.a)(["\n  background: ",";\n  margin: 20px;\n  padding-bottom: 5px;\n  border-radius: 25px;\n  border: 1px solid ",";\n"])),(function(e){return e.theme.colors.backgroundPrimary}),(function(e){return e.theme.colors.border}));function Pe(){return Object(k.jsx)("div",{children:Object(k.jsxs)(b.a,{children:[Object(k.jsx)(j.a,{span:5,children:Object(k.jsx)(Y,{})}),Object(k.jsx)(j.a,{span:14,children:Object(k.jsx)(Ce,{})}),Object(k.jsx)(j.a,{span:5,children:Object(k.jsx)(Me,{})})]})})}var Ee=n(276);function Be(){var e=Object(c.useContext)(F),t=e.isAddRoomVisible,n=e.setIsAddRoomVisible,a=Object(c.useContext)(A).user.uid,r=te.a.useForm(),o=Object(i.a)(r,1)[0];return Object(k.jsx)("div",{children:Object(k.jsx)(Ee.a,{title:"T\u1ea1o ph\xf2ng",visible:t,onOk:function(){v("rooms",Object(g.a)(Object(g.a)({},o.getFieldsValue()),{},{members:[a]})),o.resetFields(),n(!1)},onCancel:function(){o.resetFields(),n(!1)},children:Object(k.jsxs)(te.a,{form:o,layout:"vertical",children:[Object(k.jsx)(te.a.Item,{label:"T\xean ph\xf2ng",name:"name",children:Object(k.jsx)(xe.a,{placeholder:"Nh\u1eadp t\xean ph\xf2ng"})}),Object(k.jsx)(te.a.Item,{label:"M\xf4 t\u1ea3",name:"description",children:Object(k.jsx)(xe.a.TextArea,{placeholder:"Nh\u1eadp m\xf4 t\u1ea3"})})]})})})}var De=n(173),Ge=n(273),Je=n(162);function He(e){var t=e.fetchOptions,n=e.debounceTimeout,r=void 0===n?300:n,o=e.curMembers,s=Object(De.a)(e,["fetchOptions","debounceTimeout","curMembers"]),l=Object(c.useState)(!1),d=Object(i.a)(l,2),u=d[0],b=d[1],j=Object(c.useState)([]),p=Object(i.a)(j,2),h=p[0],m=p[1],f=a.a.useMemo((function(){return Object(Je.debounce)((function(e){m([]),b(!0),t(e,o).then((function(e){m(e),b(!1)}))}),r)}),[r,t,o]);return a.a.useEffect((function(){return function(){m([])}}),[]),Object(k.jsx)(Ge.a,Object(g.a)(Object(g.a)({labelInValue:!0,filterOption:!1,onSearch:f,notFoundContent:u?Object(k.jsx)(V.a,{size:"small"}):null},s),{},{children:h.map((function(e){var t,n;return Object(k.jsxs)(Ge.a.Option,{value:e.value,title:e.label,children:[Object(k.jsx)(S.a,{size:"small",src:e.photoURL,children:e.photoURL?"":null===(t=e.label)||void 0===t||null===(n=t.charAt(0))||void 0===n?void 0:n.toUpperCase()})," ".concat(e.label)]},e.value)}))}))}function We(e,t){return Ke.apply(this,arguments)}function Ke(){return(Ke=Object(d.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f.collection("users").where("keywords","array-contains",null===t||void 0===t?void 0:t.toLowerCase()).orderBy("displayName").limit(20).get().then((function(e){return e.docs.map((function(e){return{label:e.data().displayName,value:e.data().uid,photoURL:e.data().photoURL}})).filter((function(e){return!n.includes(e.value)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Xe(){var e=Object(c.useContext)(F),t=e.isInviteMemberVisible,n=e.setIsInviteMemberVisible,a=e.selectedRoomId,r=e.selectedRoom,o=Object(c.useState)([]),s=Object(i.a)(o,2),l=s[0],d=s[1],u=te.a.useForm(),b=Object(i.a)(u,1)[0];return Object(k.jsx)("div",{children:Object(k.jsx)(Ee.a,{title:"M\u1eddi th\xeam th\xe0nh vi\xean",visible:t,onOk:function(){b.resetFields(),d([]),f.collection("rooms").doc(a).update({members:[].concat(Object(O.a)(r.members),Object(O.a)(l.map((function(e){return e.value}))))}),n(!1)},onCancel:function(){b.resetFields(),d([]),n(!1)},destroyOnClose:!0,children:Object(k.jsx)(te.a,{form:b,layout:"vertical",children:Object(k.jsx)(He,{mode:"multiple",name:"search-user",label:"T\xean c\xe1c th\xe0nh vi\xean",value:l,placeholder:"Nh\u1eadp t\xean th\xe0nh vi\xean",fetchOptions:We,onChange:function(e){return d(e)},style:{width:"100%"},curMembers:r.members})})})})}var Ze=n(165),Qe=n(126),qe=Object(Qe.b)({name:"user",initialState:{user:{name:"ha"}},reducers:{setUser:function(e,t){t.user},removeUser:function(e,t){({})}}}),Ye=qe.actions,$e=(Ye.getUser,Ye.removeUser,Ye.setUser,qe.reducer),et=Object(Qe.a)({reducer:$e});function tt(){var e=this,t=Object(c.useContext)(F),n=t.members,a=t.isMemberListVisible,r=t.setIsMemberListVisible,o=Object(c.useContext)(A).user,i=function(e){};return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(Ee.a,{title:"Basic Modal",visible:a,onOk:function(){r(!1)},onCancel:function(){r(!1)},children:Object(k.jsx)("div",{children:n.map((function(t){var n,c;return Object(k.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},value:t.uid,title:t.displayName,children:[Object(k.jsxs)("div",{children:[Object(k.jsx)(S.a,{size:"small",src:t.photoURL,children:t.photoURL?"":null===(n=t.displayName)||void 0===n||null===(c=n.charAt(0))||void 0===c?void 0:c.toUpperCase()})," ".concat(t.displayName)]}),o.uid!==t.uid?Object(k.jsx)(p.a,{onClick:i.bind(e,t.uid),children:"Delete"}):null]},t.uid)}))})})})}var nt={light:{colors:{primary:"#014cfc",secondary:"#36c9b2",black:"#1a233b",white:"#f3f6fb",yellow:"#ffc951",red:"#ff5858",tomato:"#ff8464",purple:"#7563c4",textPrimary:"#152d43",textSecondary:"#9fa4b1",border:"#d4e1ff",background:"#ffffff",backgroundPrimary:"#e6edf4"},opacity:{primary:.6,secondary:.3}},dark:{colors:{primary:"#014cfc",secondary:"#36c9b2",black:"#1a233b",white:"#ccc8c1",yellow:"#ffc951",red:"#ff5858",tomato:"#ff8464",purple:"#7563c4",textPrimary:"#152d43",textSecondary:"#9fa4b1",border:"#222526",background:"#181a1b",backgroundPrimary:"#222526"},opacity:{primary:.6,secondary:.3}}};function ct(e){var t=e.component,n=e.path,c=e.exac,r=a.a.useContext(A).user;return console.log(t),(null===r||void 0===r?void 0:r.uid)?Object(k.jsx)(U.b,{component:t,path:n,exact:c}):Object(k.jsx)(U.a,{to:"/react_chat-app/login"})}function at(e){var t=e.theme,n=e.setTheme;return Object(k.jsx)("button",{onClick:function(){n("light"===t?"dark":"light")},children:"Change theme"})}var rt,ot=function(){var e=Object(c.useState)("light"),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(k.jsx)(Ze.a,{store:et,children:Object(k.jsx)(I.a,{children:Object(k.jsx)(M,{children:Object(k.jsx)(_,{children:Object(k.jsx)(P.a,{theme:nt[n],children:Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(at,{theme:n,setTheme:a}),Object(k.jsxs)(U.d,{children:[Object(k.jsx)(U.b,{component:R,path:"/react_chat-app/login"}),Object(k.jsx)(ct,{component:Pe,path:"/react_chat-app",exact:!0}),Object(k.jsx)(U.b,{path:"*",children:Object(k.jsx)(U.a,{to:"/react_chat-app"})})]}),Object(k.jsx)(Be,{}),Object(k.jsx)(Xe,{}),Object(k.jsx)(tt,{})]})})})})})})};P.b.button(rt||(rt=Object(L.a)(["\n  font-size: 1em;\n  margin: 1em;\n  padding: 0.25em 1em;\n  border-radius: 3px;\n\n  /* Color the border and text with theme.main */\n  color: ",";\n  border: 2px solid ",";\n"])),(function(e){return e.theme.primary}),(function(e){return e.theme.primary}));var it=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,286)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};o.a.render(Object(k.jsx)(ot,{}),document.getElementById("root")),it()}},[[262,1,2]]]);
//# sourceMappingURL=main.6b38454f.chunk.js.map